# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ "Unexpected 'javascript'"

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—Ä–∞–≤–∏–ª –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Firestore –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞:
```
Error saving rules - Line 1: Unexpected 'javascript'.
```

## üîç –ü—Ä–∏—á–∏–Ω–∞

–í —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –ø—Ä–∞–≤–∏–ª –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–ª–æ–≤–æ `javascript`, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ –¥–æ–ª–∂–Ω–æ —Ç–∞–º –±—ã—Ç—å. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏:
- –í—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –∫–æ–¥ –≤–º–µ—Å—Ç–µ —Å –º–µ—Ç–∫–æ–π –±–ª–æ–∫–∞ –∫–æ–¥–∞ (```javascript)
- –†–µ–¥–∞–∫—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏–ª —ç—Ç–æ —Å–ª–æ–≤–æ

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –°–ø–æ—Å–æ–± 1: –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É –≤—Ä—É—á–Ω—É—é

1. –í —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –ø—Ä–∞–≤–∏–ª Firestore –Ω–∞–π–¥–∏—Ç–µ **—Å—Ç—Ä–æ–∫—É 1** —Å —Ç–µ–∫—Å—Ç–æ–º `javascript`
2. **–£–¥–∞–ª–∏—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É –ø–æ–ª–Ω–æ—Å—Ç—å—é** (–≤—ã–¥–µ–ª–∏—Ç–µ –∏ –Ω–∞–∂–º–∏—Ç–µ Delete –∏–ª–∏ Backspace)
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ —Ç–µ–ø–µ—Ä—å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `rules_version = '2';`
4. –ù–∞–∂–º–∏—Ç–µ **"Publish"**

### –°–ø–æ—Å–æ–± 2: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–¥

1. **–£–¥–∞–ª–∏—Ç–µ –≤—Å—ë —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ** —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –ø—Ä–∞–≤–∏–ª (Ctrl+A ‚Üí Delete)
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ (–Ω–∞—á–∏–Ω–∞—è —Å `rules_version`):

```
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
      match /days/{date} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
    }
  }
}
```

3. –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å `rules_version = '2';`
5. –ù–∞–∂–º–∏—Ç–µ **"Publish"**

## üìã –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–æ–¥–∞

–í–∞—à –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫ (–±–µ–∑ —Å–ª–æ–≤–∞ "javascript" –≤ –Ω–∞—á–∞–ª–µ):

```
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
      match /days/{date} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
    }
  }
}
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚ùå –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∏ —Å `javascript`
- ‚úÖ –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å `rules_version = '2';`
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "Publish" –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω–∞
- ‚úÖ –û—à–∏–±–æ–∫ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –±—ã—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ

## üéØ –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

1. –í—ã–¥–µ–ª–∏—Ç–µ —Å—Ç—Ä–æ–∫—É 1 —Å `javascript`
2. –ù–∞–∂–º–∏—Ç–µ Delete
3. –ù–∞–∂–º–∏—Ç–µ Publish

**–ì–æ—Ç–æ–≤–æ!** –û—à–∏–±–∫–∞ –¥–æ–ª–∂–Ω–∞ –∏—Å—á–µ–∑–Ω—É—Ç—å.







