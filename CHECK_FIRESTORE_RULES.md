# üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Firestore

## ‚ö†Ô∏è –í–∞–∂–Ω–æ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!

–û—à–∏–±–∫–∏ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —á–∞—â–µ –≤—Å–µ–≥–æ —Å–≤—è–∑–∞–Ω—ã —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Firestore.

---

## üìã –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Firebase Console

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://console.firebase.google.com/
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç **"womenht2"**

---

## üìã –®–∞–≥ 2: –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Firestore Database

1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–∂–º–∏—Ç–µ **"Firestore Database"**
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É **"Rules"** (–ü—Ä–∞–≤–∏–ª–∞)

---

## üìã –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∞–≤–∏–ª–∞ –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    match /users/{userId} {
      // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –∏ –ø–∏—Å–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
      allow read, write: if request.auth != null && request.auth.uid == userId;
      
      // –ü–æ–¥–∫–æ–ª–ª–µ–∫—Ü–∏—è: –¥–∞–Ω–Ω—ã–µ –¥–Ω—è (days)
      match /days/{date} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
      
      // –ü–æ–¥–∫–æ–ª–ª–µ–∫—Ü–∏—è: –¥–∞–Ω–Ω—ã–µ –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏ (pregnancy)
      match /pregnancy/{document=**} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
      
      // –ü–æ–¥–∫–æ–ª–ª–µ–∫—Ü–∏—è: –¥–∞–Ω–Ω—ã–µ —Ñ–µ—Ä—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (fertility)
      match /fertility/{date} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
      
      // –ü–æ–¥–∫–æ–ª–ª–µ–∫—Ü–∏—è: —Å–∏–º–ø—Ç–æ–º—ã –º–µ–Ω–æ–ø–∞—É–∑—ã (menopause_symptoms)
      match /menopause_symptoms/{document=**} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
      
      // –ü–æ–¥–∫–æ–ª–ª–µ–∫—Ü–∏—è: –≤–∏–∑–∏—Ç—ã –∫ –≤—Ä–∞—á—É –ø—Ä–∏ –º–µ–Ω–æ–ø–∞—É–∑–µ (menopause_doctor_visits)
      match /menopause_doctor_visits/{visitId} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
      
      // –ü–æ–¥–∫–æ–ª–ª–µ–∫—Ü–∏—è: —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã MRS (mrs_results)
      match /mrs_results/{testDate} {
        allow read, write: if request.auth != null && request.auth.uid == userId;
      }
    }
  }
}
```

---

## üìã –®–∞–≥ 4: –ï—Å–ª–∏ –ø—Ä–∞–≤–∏–ª–∞ –¥—Ä—É–≥–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç A: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

1. –£–¥–∞–ª–∏—Ç–µ –≤—Å–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –ø—Ä–∞–≤–∏–ª
2. –í—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ –®–∞–≥–∞ 3
3. –ù–∞–∂–º–∏—Ç–µ **"Publish"** (–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å)

### –í–∞—Ä–∏–∞–Ω—Ç B: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–≤—Ä–µ–º–µ–Ω–Ω–æ!)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –≠—Ç–æ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –¥–æ—Å—Ç—É–ø –≤—Å–µ–º –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º. –ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ—Ä–Ω–∏—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞!

---

## üìã –®–∞–≥ 5: –û–ø—É–±–ª–∏–∫—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞

1. –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª –Ω–∞–∂–º–∏—Ç–µ **"Publish"** (–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å)
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∞–≤–∏–ª–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã (–¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ)

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø—Ä–∞–≤–∏–ª:

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
2. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
3. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ**
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Firestore Console ‚Üí Data** - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –¥–∞–Ω–Ω—ã–µ

---

## üö® –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### "PERMISSION_DENIED"
- **–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–∞–≤–∏–ª–∞ –±–ª–æ–∫–∏—Ä—É—é—Ç –¥–æ—Å—Ç—É–ø
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –∏–∑ –®–∞–≥–∞ 3

### "Missing or insufficient permissions"
- **–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –∏–ª–∏ –ø—Ä–∞–≤–∏–ª–∞ —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏–µ
- **–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ—à–µ–ª –≤ —Å–∏—Å—Ç–µ–º—É –∏ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ

### –ü—Ä–∞–≤–∏–ª–∞ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
- **–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–∞–≤–∏–ª–∞ –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã
- **–†–µ—à–µ–Ω–∏–µ:** –ù–∞–∂–º–∏—Ç–µ "Publish" –∏ –ø–æ–¥–æ–∂–¥–∏—Ç–µ

---

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!**


